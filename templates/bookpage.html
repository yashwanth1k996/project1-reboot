<!DOCTYPE html>
<html>

<head>
    <title>Book</title>
    <meta name="viewport" content="width = device-width, initial-scale = 1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: url(https://www.its.ac.id/news/wp-content/uploads/sites/2/2019/04/346199.jpg);
            background-size: cover;
            background-repeat: no-repeat;
            height: 100vh;
            width: 100%;
        }
        
        #menubar {
            width: 100%;
            background-color: rgba(450, 0, 65, 0.4);
            height: 60px;
        }
        
        #menu {
            color: white;
            list-style-type: none;
            line-height: 40px;
        }
        
        #menu li {
            display: inline-block;
        }
        
        #menu li a {
            padding: 10px;
            text-decoration: none;
            color: white;
            display: block;
            font-weight: 800;
        }
        
        #menu li a:hover {
            background-color: black;
        }
        
        .whole {
            text-align: center;
            color: white;
            font-size: larger;
        }
        
        .flip-card {
            background-color: transparent;
            width: 300px;
            height: 300px;
            perspective: 1000px;
        }
        
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        }
        
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
        
        .flip-card-front,
        .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }
        
        .flip-card-front {
            background-color: rgb(207, 150, 26);
            color: black;
            font-size: larger;
            background-image: url(https://images.unsplash.com/photo-1517673132405-a56a62b18caf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1000&q=80);
            background-size: cover;
            background-repeat: no-repeat;
            height: 100%;
            width: 100%;
        }
        
        .flip-card-back {
            background-color: whitesmoke;
            color: white;
            transform: rotateY(180deg);
        }
        
        h4 {
            color: white;
        }
        
        h3 {
            background-color: black;
            height: 60px;
            padding: 20px;
        }
        
        .flip-card-back h4 {
            color: black;
        }
    </style>
</head>

<body>
    <nav id="menubar">
        <ul id="menu">
            <li><a href="/">HOME</a></li>
            <li><a href="{{url_for('index')}}">LOGOUT</a></li>
        </ul>
    </nav>

    <div class="whole">
        <h3 id="username">WELCOME {{ username }} HERE ARE THE DETAILS ABOUT THE BOOK</h3><br>
        <h2 style="background-color: black;">TITLE OF THE BOOK: {{all_book.title}}</h2><br>
        <h3 style="background-color: black;">Author: {{ all_book.author }}</h3><br>
        <h3 style="background-color: black;">Year Published: {{ all_book.year }}</h3><br>
        <h3 style="background-color: black;">ISBN Number: {{ all_book.isbn }}</h3><br>
    </div>
    <H2 style="color: white;">
        AVERAGE RATING ON THE BOOK:
    </H2>
    <div style="color: white;" class="ownrevew_or_newreview">
        {% if flag %}
        <hr>
        <h4>YOUR rating ON THis BOOK: {{ownreview.rating}}</h4>
        <hr>
        <h4>YOUR REVIEW ON THE BOOK:</h4>
        {% for y in ownreview %}
        <h5>{{y.review}}</h5>
        {% endfor %}
        <hr> {% else %}
        <form action="{{url_for('recordreview')}}" method="POST">
            <label for="rating">RATING: </label>
            <input type="radio" name="review" value="1">
            <input type="radio" name="review" value="2">
            <input type="radio" name="review" value="3">
            <input type="radio" name="review" value="4">
            <input type="radio" name="review" value="5">
            <br>
            <textarea name="comment" rows="10" cols="80" placeholder="enter your review here"></textarea>
            <button>SUBMIT</button>
        </form>
        {% endif %}
    </div>
    <div class="previous_review" style="color: white;">
        <h2>
            PREVIOUS REVIEWS ON THE BOOK:
        </h2>
        <div class="row">
            {% for rev in reviews %}
            <div class="col-lg-3 col-sm-6">
                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h4>NAME OF BOOK: {{rev.title}}</h4>
                            <hr>
                            <h4>NAME OF THE REVIEWER: {{rev.username}}</h4>
                            <hr>
                            <h4 style="background-color: black;">RATING GIVEN: {{rev.rating}}</h4>
                            <hr>
                        </div>
                        <div class="flip-card-back">
                            <h4>REVIEW GIVEN: </h4>
                            <hr>
                            <h4>{{rev.review}}</h4>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>


</body>

</html>